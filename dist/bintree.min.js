!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.BinTree=t()}}(function(){return function t(r,o,e){function i(s,u){if(!o[s]){if(!r[s]){var l="function"==typeof require&&require;if(!u&&l)return l(s,!0);if(n)return n(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var a=o[s]={exports:{}};r[s][0].call(a.exports,function(t){var o=r[s][1][t];return i(o?o:t)},a,a.exports,t,r,o,e)}return o[s].exports}for(var n="function"==typeof require&&require,s=0;s<e.length;s++)i(e[s]);return i}({1:[function(t,r,o){function e(t){this.data=t,this.left=null,this.right=null}function i(t){this._root=null,this._comparator=t,this.size=0}var n=t("./treebase");e.prototype.get_child=function(t){return t?this.right:this.left},e.prototype.set_child=function(t,r){t?this.right=r:this.left=r},i.prototype=new n,i.prototype.insert=function(t){if(null===this._root)return this._root=new e(t),this.size++,!0;for(var r=0,o=null,i=this._root;;){if(null===i)return i=new e(t),o.set_child(r,i),this.size++,!0;if(0===this._comparator(i.data,t))return!1;r=this._comparator(i.data,t)<0,o=i,i=i.get_child(r)}},i.prototype.remove=function(t){if(null===this._root)return!1;var r=new e(void 0),o=r;o.right=this._root;for(var i=null,n=null,s=1;null!==o.get_child(s);){i=o,o=o.get_child(s);var u=this._comparator(t,o.data);s=u>0,0===u&&(n=o)}return null!==n?(n.data=o.data,i.set_child(i.right===o,o.get_child(null===o.left)),this._root=r.right,this.size--,!0):!1},r.exports=i},{"./treebase":2}],2:[function(t,r,o){function e(){}function i(t){this._tree=t,this._ancestors=[],this._cursor=null}e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(t){for(var r=this._root;null!==r;){var o=this._comparator(t,r.data);if(0===o)return r.data;r=r.get_child(o>0)}return null},e.prototype.findIter=function(t){for(var r=this._root,o=this.iterator();null!==r;){var e=this._comparator(t,r.data);if(0===e)return o._cursor=r,o;o._ancestors.push(r),r=r.get_child(e>0)}return null},e.prototype.lowerBound=function(t){for(var r=this._root,o=this.iterator(),e=this._comparator;null!==r;){var i=e(t,r.data);if(0===i)return o._cursor=r,o;o._ancestors.push(r),r=r.get_child(i>0)}for(var n=o._ancestors.length-1;n>=0;--n)if(r=o._ancestors[n],e(t,r.data)<0)return o._cursor=r,o._ancestors.length=n,o;return o._ancestors.length=0,o},e.prototype.upperBound=function(t){for(var r=this.lowerBound(t),o=this._comparator;null!==r.data()&&0===o(r.data(),t);)r.next();return r},e.prototype.min=function(){var t=this._root;if(null===t)return null;for(;null!==t.left;)t=t.left;return t.data},e.prototype.max=function(){var t=this._root;if(null===t)return null;for(;null!==t.right;)t=t.right;return t.data},e.prototype.iterator=function(){return new i(this)},e.prototype.each=function(t){for(var r,o=this.iterator();null!==(r=o.next());)if(t(r)===!1)return},e.prototype.reach=function(t){for(var r,o=this.iterator();null!==(r=o.prev());)if(t(r)===!1)return},i.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},i.prototype.next=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._minNode(t)}else if(null===this._cursor.right){var r;do{if(r=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===r)}else this._ancestors.push(this._cursor),this._minNode(this._cursor.right);return null!==this._cursor?this._cursor.data:null},i.prototype.prev=function(){if(null===this._cursor){var t=this._tree._root;null!==t&&this._maxNode(t)}else if(null===this._cursor.left){var r;do{if(r=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===r)}else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left);return null!==this._cursor?this._cursor.data:null},i.prototype._minNode=function(t){for(;null!==t.left;)this._ancestors.push(t),t=t.left;this._cursor=t},i.prototype._maxNode=function(t){for(;null!==t.right;)this._ancestors.push(t),t=t.right;this._cursor=t},r.exports=e},{}]},{},[1])(1)});